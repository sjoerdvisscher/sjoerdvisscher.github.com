<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Sjoerd Visscher's weblog - w3future.com</title>
  <meta name="author" content="Sjoerd Visscher" />
  <meta name="keywords" content="w3, www, world, wide, web, future, weblog, latest, news, javascript, js, soap, xml, rpc, html, mozilla, internet, explorer, netscape, semantic" />
  <meta name="description" content="My ideas about new web technology that can change the future of the world wide web." />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="author" title="Sjoerd Visscher" href="mailto:sjoerd@w3future.com" />
  <link rel="top" href="http://w3future.com/weblog/" />
  <link rel="icon" href="http://w3future.com/w3f/icon.png" type="image/png" />
  <script type="text/javascript" src="http://w3future.com/w3f/w3f.js"></script>
  <script type='text/javascript'><!--
document.write('<'+'style>@import "http://w3future.com/w3f/w3f.phtml?'+document.cookie+'";<'+'/style>');
//--></script>
  
</head>
<body>
<div id="header">
	<a href="#"></a>
	<div id="header-title-shadow">w3future.com</div>
	<div id="header-title">w3future.com</div>
	<div id="header-tabs">
<div class='tab'><a href='http://w3future.com/weblog/'>Weblog</a></div>
<div class='tab'><a href='http://w3future.com/html/examples.html'>Examples</a></div>
<div class='tab'><a href='http://w3future.com/html/stories/'>Articles</a></div>
<div class='tab'><a href='http://w3future.com/html/download.html'>Downloads</a></div>
</div>
</div>
<div id="layout">
	<div id="sidebar">
<div class='sidebar-header'>What I read</div>
<div class='button2'><a href='http://diveintomark.org/'>Dive into Mark</a></div>
<div class='button2'><a href='http://www.joelonsoftware.com/'>Joel on Software</a></div>
<div class='button2'><a href='http://radio.weblogs.com/0100887/'>Jon Udell</a></div>
<div class='button2'><a href='http://lambda.weblogs.com/'>Lambda the Ultimate</a></div>
<div class='button2'><a href='http://markpasc.org/blog/'>markpasc_blog</a></div>
<div class='button2'><a href='http://radio.weblogs.com/0101679/'>Sam Ruby</a></div>
<div class='button2'><a href='http://www.scripting.com/'>Scripting News</a></div>
<div class='button2'><a href='http://www.xmlhack.com/'>XMLHack</a></div>
<div class='button2'><a href='http://w3future.com/html/weblogsources.html'><b>All sources</b></a></div>
<div class='sidebar-header'>Friends/Family</div>
<div class='button2'><a href='http://joeri.mulder.com/'>Joeri</a></div>
<div class='button2'><a href='http://www.maggerydoo.net/'>Marco</a></div>
<div class='button2'><a href='http://uitdeschaduw.blogspot.com/'>Jelle</a></div>
<div class='button2'><a href='http://www.q42.nl/'>Q42</a></div>
</div>
	<div id="content">
		<h1>Sjoerd Visscher's weblog</h1>
		<p>Create your own palette for my weblog</p>
		<div id="note">
			<h3>Last Update</h3>
			<p>10/25/2002; 8:19:18 PM</p>
		</div>
	<style>
#layout, #header {
filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1, xray=0, mirror=0, invert=0, opacity=1, rotation=0) progid:DXImageTransform.Microsoft.Fade(Overlap=1.00, Duration=3);
}
</style>
<script>
var hex="0123456789abcdef";
document.styleSheets[0].imports[0].href="http://w3future.com/w3f/w3f.phtml?colors=c0ff40,4040a0,176,128,128,32,128,32,96,214,64,128,256,128,192"
var i, colorQS;
var derived={
	'#ecffc4':{f:lighten, c:'#c0ff40', v:176},
	'#f6ffe2':{f:lighten, c:'#ecffc4', v:128},
	'#fbfff1':{f:lighten, c:'#f6ffe2', v:128},
	'#ccdfa4':{f:darken,  c:'#ecffc4', v:32},
	'#6c7f44':{f:darken,  c:'#ecffc4', v:128},
	'#a0df20':{f:darken,  c:'#c0ff40', v:32},
	'#000040':{f:darken,  c:'#4040a0', v:96},
	'#e0e0f0':{f:lighten, c:'#4040a0', v:213},
	'#e8e8f4':{f:lighten, c:'#e0e0f0', v:64},
	'#f0f0f8':{f:lighten, c:'#e0e0f0', v:128},
	'#ffffff':{f:lighten, c:'#f0f0f8', v:256},
	'#f8f8fc':{f:lighten, c:'#f0f0f8', v:132},
	'#fefeff':{f:lighten, c:'#f8f8fc', v:256}
};
var colors={}, rules;
function start() {
rules=document.styleSheets[0].imports[0].rules;
for (i=0;i<rules.length;i++) {
	var a=rules[i].style;
	add('backgroundColor');
	add('color');
	add('borderTopColor');
	add('borderLeftColor');
	add('borderRightColor');
	add('borderBottomColor');
}
for (var c in colors) {
	var editable=!derived[c];
	var id=c.substr(1);
	var s='<p><input style="width:74px" id="inp'+id+'" onchange="set(\''+c+'\', this.value);derive()" value="'+c+'"'+(editable?'':' readonly disabled')+' />';
	s+='<span id="'+id+'" style="background:'+c+'" onclick="'+(editable?'setRGB':'setVal')+'(this);derive()"><img src="../w3f/lijn.gif" width="148" height="30" align="absmiddle"></span></p>';
	colors[c].html=s;
	colors[c].cssRGB=c;
}
function row(txt) {return '<h2>'+txt+'</h2>';}
function h(clr) {try{return colors['#'+clr].html;}catch(e){alert(clr)}}
var s='<div style="float:left;width:250px;padding:0em 2.5em">'+row('Color 1 (Top Background)')+h('c0ff40');
s+=row('Button')+h('ecffc4')+h('f6ffe2')+h('fbfff1')+h('ccdfa4');
s+=row('Visited Link')+h('6c7f44')+row('Title shadow')+h('a0df20');
s+='</div><div style="float:left;width:250px;padding:0em 2.5em">'+row('Color 2 (Link)')+h('4040a0');
s+=row('Hovered Button')+h('f0f0f8')+h('f8f8fc')+h('fefeff')+h('e0e0f0');
s+=row('Text')+h('000040')+row('Text Backgrounds')+h('e8e8f4')+h('ffffff');
s+='</div>';
targetDiv.innerHTML=s;
}
function derive() {
	colorQS=colors['#c0ff40'].cssRGB.substr(1);
	colorQS+=','+colors['#4040a0'].cssRGB.substr(1);
	for (var c in derived) {
		var o=derived[c];
		set(c, o.f(o.c, o.v));
		colorQS+=','+o.v;
	}
	colorLink.value='htt'+'p:/'+'/w3future.com/weblogs/cssedit.html?'+colorQS;
}
function lighten(orig, amount) {
	var realc=colors[orig].rgb;
	var c={
		r:Math.floor(realc.r+(256-realc.r)*amount/256),
		g:Math.floor(realc.g+(256-realc.g)*amount/256),
		b:Math.floor(realc.b+(256-realc.b)*amount/256)
	}
	return toRGB(c);
}
function darken(orig, amount) {
	var realc=colors[orig].rgb;
	var c={
		r:realc.r-amount,
		g:realc.g-amount,
		b:realc.b-amount
	}
	return toRGB(c);
}
function toHex(i) {
	if (i>255) i=255; else if (i<0) i=0;
	return hex.charAt(i>>4)+hex.charAt(i&15);
}
function fromHex(s) {
	return hex.indexOf(s.charAt(0))*16+hex.indexOf(s.charAt(1));
}
function fromRGB(s) {
	s=s.toLowerCase();
	return {
		r:fromHex(s.substr(1,2)),
		g:fromHex(s.substr(3,2)),
		b:fromHex(s.substr(5,2))
	}
}
function toRGB(rgb) {
	return '#'+toHex(rgb.r)+toHex(rgb.g)+toHex(rgb.b)
}
function add(propName) {
	var val=rules[i].style[propName];
	if (!val) return;
	if (!colors[val]) {
		colors[val]=[];
		colors[val].rgb=fromRGB(val);
	}
	colors[val][colors[val].length]={i:i, propName: propName};
}
function set(fromC, toC) {
	var cs=colors[fromC];
	if (toC==cs.cssRGB) return;
	cs.cssRGB=toC;
	cs.rgb=fromRGB(toC);
	for (var o=0;o<cs.length;o++) {
		rules[cs[o].i].style[cs[o].propName]=toC;
	}
	document.getElementById(fromC.substr(1)).style.background=toC;
	document.getElementById('inp'+fromC.substr(1)).value=toC;
}
function setRGB(elt) {
	var fromC='#'+elt.id;
	var rgb=colors[fromC].rgb;
	var val=2*(event.x-elt.getBoundingClientRect().left)-20;
	if (val<0) val=0; else if (val>255) val=255;
	switch((''+(10+event.y-elt.getBoundingClientRect().top)).charAt(0)) {
		case '1': rgb.r=val; pos(elt, val, 0); break;
		case '2': rgb.g=val; pos(elt, val, 10); break;
		case '3': rgb.b=val; pos(elt, val, 20); break;
	}
	var toC=toRGB(rgb);
	set(fromC, toC);
}
function setVal(elt) {
	var fromC='#'+elt.id;
	var val=2*(event.x-elt.getBoundingClientRect().left)-20;
	if (val<0) val=0; else if (val>256) val=256;
	pos(elt, val, 10);
	if (derived[fromC].f==lighten) 
		derived[fromC].v=val;
	else derived[fromC].v=256-val;
}
function pos(elt, val, y) {
	var id=elt.id+y;
	var p=document.getElementById(id)||create(id);
	p.style.top=(elt.getBoundingClientRect().top+y+document.body.scrollTop)+'px';
	p.style.left=(elt.getBoundingClientRect().left+(val>>1)+8+document.body.scrollLeft)+'px';
}
function create(id) {
	var e=document.createElement('DIV');
	e.id=id;
	e.style.position='absolute';
	e.style.zIndex='3';
	e.innerHTML='<img src="../w3f/lijn.gif" width=1 height=10 style="background:black;position:absolute;top:0px;left;0px"><img src="../w3f/lijn.gif" width=1 height=10 style="background:white;position:absolute;top:0px;left:1px">';
	document.body.appendChild(e);
	return e;
}
window.onload=function() {
	start();
	var init;
	if (location.search) {
		init=location.search.substr(1);
	} else {
		var c=''+document.cookie;
		var m=c.match(/colors=([a-fA-F0-9,]+)/);
		if (m&&m[1]) init=m[1];
		else init='ff9900,000033,176,128,128,32,128,32,0,213,0,128,40,128,256';
	}
	init=init.split(',');
	set('#c0ff40','#'+init[0]);
	set('#4040a0','#'+init[1]);
	var i=2;
	for (var c in derived) {
		derived[c].v=1*init[i++];
	}
	derive();
	for (var c in colors) {
		var id=c.substr(1);
		var elt=document.getElementById(id);
		if (derived[c]) {
			pos(elt, derived[c].v, 10);
		} else {
			pos(elt, colors[c].rgb.r, 0);
			pos(elt, colors[c].rgb.g, 10);
			pos(elt, colors[c].rgb.b, 20);
		}
	}
	setTimeout("fade()", 50);
}
function fade() {
	layout.filters[1].apply();
	header.filters[1].apply();
	layout.filters[0].enabled=false;
	header.filters[0].enabled=false;
	layout.filters[1].play();
	header.filters[1].play();
}
function setCookie() {
	date=new Date(2010, 1, 1);
	document.cookie="colors="+colorQS+";expires=" + date.toGMTString()+';path=/';
}
function removeCookie() {
	date=new Date(1999, 1, 1);
	document.cookie="colors=;expires=" + date.toGMTString()+';path=/';
}
function postPalette() {
	if (palette.paltitle.value==""||palette.paldetails.value=="") {
		alert("Please give your palette a nice name and at least mention the colors in the details.");
		return;
	}
	var service=new w3f_XMLRPCService('htt'+'p:/'+'/213.84.155.207:5335/RPC2');
	service.onload=function() {
		alert(this.error||this.result);
	}
	service.call('radio.addPalette',[
		palette.paltitle.value, 
		palette.paldetails.value,
		colorQS
	]);
}
</script>
<h2>Store or restore colors</h2>
<p><button onclick="setCookie()">Save colors in cookie</button>
<button onclick="removeCookie()">Remove cookie, use default colors</button></p>
<div id="targetDiv" style="margin: 0em -2.5em;"></div>
<h2 style="clear:left">For bloggers</h2>
<p>Use this url to share these colors with other people:
<br/><input id="colorLink" style="width:80%"></p>
<h2>Palette Database</h2>
<p><table>
<tr><td><a href='?6ab090,4040a0,176,128,128,32,128,32,96,213,64,128,256,128,256'>Minten</td><td>Dark blue and mint green, a winter-time palette</td></tr>
<tr><td><a href='?c0ff40,4040a0,176,128,128,32,128,32,96,214,64,128,256,128,192'>Lime green</td><td>The old w3future.com colors.</td></tr>
<tr><td><a href='?c09a40,5c9482,176,128,128,32,128,32,56,213,0,128,156,128,256'>Desert</td><td>Sand colored basis with a natural dark green touch.</td></tr>
<tr><td><a href='?0c6082,2242bc,176,128,128,32,128,32,256,213,0,128,40,128,256'>Rainy Day</td><td>Blue and dark.</td></tr>
<tr><td><a href='?ff4082,804abc,118,230,254,246,6,246,46,28,156,56,92,122,58'>hortera css</td><td>besitos from spain</td></tr>
<tr><td><a href='?ff8000,0080ff,118,128,116,186,68,40,198,102,208,40,256,128,256'>geeklife colors</td><td></td></tr>
<tr><td><a href='?d4be96,b22264,176,84,128,32,128,32,96,213,64,116,256,10,146'>Candy Stick</td><td>Butterscotch / Raspberry</td></tr>
<tr><td><a href='?ff9900,000033,176,128,128,32,128,32,0,213,0,128,40,128,256'>Orange Delight</td><td>A warm mix of colours</td></tr>
<tr><td><a href='?eeba32,a88200,190,128,128,32,128,32,82,152,64,124,210,128,256'>Late summer</td><td>The golden colors of a sunny day at the end of august.</td></tr>
<tr><td><a href='?336699,4040a0,176,128,128,32,128,32,96,213,64,128,256,128,256'>terreus</td><td>Shades of Blue</td></tr>
<tr><td><a href='?99cc33,ff9900,176,128,128,32,128,32,96,213,64,128,256,128,256'>terreus 2</td><td>Shades of Earth</td></tr>
<tr><td><a href='?99cc33,003366,176,128,128,32,128,32,96,213,64,128,256,128,256'>terreus 3</td><td>Grass & Water</td></tr>
<tr><td><a href='?ffcc00,000033,176,128,128,32,128,32,0,213,0,128,40,128,256'>rutabaga blues</td><td>misc. colors</td></tr>
</table></p>
<h3>Add current palette to database</h3>
<form id="palette"><p><table width="80%">
<col /><col width="100%" />
<tr><td>Palette&nbsp;title:</td><td><input style="width:95%" id="paltitle"></td></tr>
<tr><td valign=top>Details:</td><td><textarea style="width:95%" rows="3" id="paldetails"></textarea></td></tr>
<tr><td></td><td><button onclick="postPalette()">Submit palette</button></td></tr>
</table></p></form>
<SCRIPT src="/tools/xmlrpc.js"></SCRIPT></div>
	<div id="footer">&#x00A9; Copyright 2002 <a href="mailto:sjoerd@w3future.com">Sjoerd Visscher</a>, <a href="http://w3future.com/">w3future.com</a></div>
</div>
<script type='text/javascript'><!--
initButtons(true);initSectionTabs();initSidebarButtons();staticSiteStatsImage()
//--></script>
</body>
</html>
