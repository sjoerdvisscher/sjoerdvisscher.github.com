<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Sjoerd Visscher's weblog - w3future.com</title>
  <meta name="author" content="Sjoerd Visscher" />
  <meta name="keywords" content="w3, www, world, wide, web, future, weblog, latest, news, javascript, js, soap, xml, rpc, html, mozilla, internet, explorer, netscape, semantic" />
  <meta name="description" content="My ideas about new web technology that can change the future of the world wide web." />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="author" title="Sjoerd Visscher" href="mailto:sjoerd@w3future.com" />
  <link rel="top" href="http://w3future.com/weblog/" />
  <link rel="icon" href="http://w3future.com/w3f/icon.png" type="image/png" />
  <script type="text/javascript" src="http://w3future.com/w3f/w3f.js"></script>
  <script type='text/javascript'><!--
document.write('<'+'style>@import "http://w3future.com/w3f/w3f.phtml?'+document.cookie+'";<'+'/style>');
//--></script>
  
</head>
<body>
<div id="header">
	<a href="#"></a>
	<div id="header-title-shadow">w3future.com</div>
	<div id="header-title">w3future.com</div>
	<div id="header-tabs">
<div class='tab'><a href='http://w3future.com/weblog/'>Weblog</a></div>
<div class='tab'><a href='http://w3future.com/html/examples.html'>Examples</a></div>
<div class='tab'><a href='http://w3future.com/html/stories/'>Articles</a></div>
<div class='tab'><a href='http://w3future.com/html/download.html'>Downloads</a></div>
</div>
</div>
<div id="layout">
	<div id="sidebar">
<div class='sidebar-header'>What I read</div>
<div class='button2'><a href='http://diveintomark.org/'>Dive into Mark</a></div>
<div class='button2'><a href='http://www.joelonsoftware.com/'>Joel on Software</a></div>
<div class='button2'><a href='http://radio.weblogs.com/0100887/'>Jon Udell</a></div>
<div class='button2'><a href='http://lambda.weblogs.com/'>Lambda the Ultimate</a></div>
<div class='button2'><a href='http://markpasc.org/blog/'>markpasc_blog</a></div>
<div class='button2'><a href='http://radio.weblogs.com/0101679/'>Sam Ruby</a></div>
<div class='button2'><a href='http://www.scripting.com/'>Scripting News</a></div>
<div class='button2'><a href='http://www.xmlhack.com/'>XMLHack</a></div>
<div class='button2'><a href='http://w3future.com/html/weblogsources.html'><b>All sources</b></a></div>
<div class='sidebar-header'>Friends/Family</div>
<div class='button2'><a href='http://joeri.mulder.com/'>Joeri</a></div>
<div class='button2'><a href='http://www.maggerydoo.net/'>Marco</a></div>
<div class='button2'><a href='http://uitdeschaduw.blogspot.com/'>Jelle</a></div>
<div class='button2'><a href='http://www.q42.nl/'>Q42</a></div>
</div>
	<div id="content">
		<h1>Sjoerd Visscher's weblog</h1>
		<p></p>
		<div id="note">
			<h3>Last Update</h3>
			<p>11/27/2002; 11:54:06 PM</p>
		</div>
	<h2><a href="http://w3future.com/weblog/2002/11/27.html">Wednesday, November 27, 2002</a></h2>
<!--start--><a name="a147"></a>
<h3><a href="http://w3future.com/weblog/2002/11/27.html#a147" class="weblogItemTitle">A bit of advertising for a friend</a></h3><p>All Queen fans are adviced to check out the new <a href="http://www.queenfind.com/">Queen Search Engine and Site Directory</a>. Or at least try to remember the url: <a href="http://www.queenfind.com/">www.queenfind.com</a>.</p><a name="a146"></a>
<h3><a href="http://w3future.com/weblog/2002/11/27.html#a146" class="weblogItemTitle">Thanks to...</a></h3><p><a href="http://scriptingnews.userland.com/backissues/2002/11/26#thanksTo">Dave Winer is acting out the thanksgiving ritual.</a> Thanksgiving is generally not celebrated here in the Netherlands. But I like the idea, because people quickly forget the positive things and only remember the negative things. (which results in Murphy's law btw.) It's not in my nature to spontaneously thank people, so I thought it would be a good idea to practice here on my weblog. The first 10 minutes I couldn't think of anything for which I had a real heartfelt need to say thank you. Then I realized something:</p>
<p>I want to thank my colleagues, friends and family for being such nice people to be around with (and to instant message with). I'm thoroughly enjoying every day of my life because of that. Thank you! I specifically want to thank my mother, because she asked for it, literally :)</p><a name="a145"></a>
<h3><a href="http://w3future.com/weblog/2002/11/27.html#a145" class="weblogItemTitle">Type checking in Loell</a></h3><p>Today I remembered a type checking idea I had a while ago, which is perfect for <a href="http://w3future.com/html/loell/">Loell</a>. It is dynamic type checking based on prototyping. There's no need to store type information anywhere. When setting a property, <code>o.p=v</code> the simple rules are:</p>
<ul>
<li>If <code>o.proto.p</code> is undefined, all values are allowed.</li>
<li>If <code>v isA o.proto.p.proto</code>, the set is allowed.</li>
<li>Else throw a type error</li>
</ul>
<p>It's rather basic type checking, but it fits the small core (currently 150 lines of javascript) of the language. It's hard to be sure if this checking is helpful, or just a pain. I'll just have to actually program something with it, but for that I first need to build proper access to the browser DOM.</p><!--end--><h2><a href="http://w3future.com/weblog/2002/11/25.html">Monday, November 25, 2002</a></h2>
<!--start--><a name="a144"></a>
<h3><a href="http://w3future.com/weblog/2002/11/25.html#a144" class="weblogItemTitle">FP with Loell</a></h3><p>I've updated <a href="http://w3future.com/html/loell/">Loell</a> to better support functional programming. In Javascript you can do functional programming, but you cannot do it in an object oriented way. You can hardly ever use a method, because for <code>this</code> to have a value, the method has to be a property of an object. In Loell, a method call looks like this:</p>
<p><code><i>expr method expr</i></code></p>
<p>The value of the left-hand expression is assigned to <code>this</code> and the value of the right-hand expression is assigned to <code>that</code>. So <code>1 {this+that} 2</code> evaluates to 3. On the Loell page I've added an example that implements lists and adds foldr and foldl, in a proper object oriented way (I think).</p><!--end--><h2><a href="http://w3future.com/weblog/2002/11/23.html">Saturday, November 23, 2002</a></h2>
<!--start--><a name="a143"></a>
<h3><a href="http://w3future.com/weblog/2002/11/23.html#a143" class="weblogItemTitle">Tag Soup</a></h3><p><a href="http://ln.hixie.ch/?start=1037910467&amp;count=1">Hixie</a> is showing how browsers handle tag soup. The way IE does it, is a serious problem for <a href="http://xopus.org">Xopus</a>. Xopus allows pasting of HTML. Unfortunately tools like Outlook paste HTML like this:</p><p><code>&lt;P>text&lt;FONT COLOR=#0000FF>&lt;P>text&lt;P>text&lt;/FONT></code></p><p>Xopus then walks the DOM tree. The parent element has 3 <code>&lt;P></code> elements. The first <code>&lt;P></code> element has 2 childnodes, a textnode and a <code>&lt;FONT></code> element. But then when you ask IE's DOM the childnodes of the <code>&lt;FONT></code> element, it gives the last 2 <code>&lt;P></code> elements, again. Xopus can validate this, to get proper XHTML, but rule no.1 of the validation routine is to never throw away content. The result: pasting from Outlook sometimes gives you part of the text twice. Those are the bugs you just don't want to fix...</p><!--end--><h2><a href="http://w3future.com/weblog/2002/11/14.html">Thursday, November 14, 2002</a></h2>
<!--start--><a name="a142"></a>
<h3><a href="http://w3future.com/weblog/2002/11/14.html#a142" class="weblogItemTitle">Mozilla has editing in the browser</a></h3><p><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=97284#c162">Robert O'Callahan brought this good news to the contentEditable bug page.</a> A colleague at <a href="http://q42.nl">Q42</a> did some testing. It's not true contentEditable yet, you can only make an IFrame editable (the designMode feature from IE). But execCommand and related functions from IE seem to work. So I think the wysiwyg editor from Radio can be made to work in <a href="ftp://ftp.mozilla.org/pub/mozilla/nightly/latest/">Mozilla 1.3a</a> without much change.</p><!--end--><h2><a href="http://w3future.com/weblog/2002/11/11.html">Monday, November 11, 2002</a></h2>
<!--start--><a name="a141"></a>
<h3><a href="http://w3future.com/weblog/2002/11/11.html#a141" class="weblogItemTitle">Loell update</a></h3><p>I worked some more on <a href="http://w3future.com/html/loell/">Loell</a> today. It looks like this is going to give me a lot of fun to work on for a long while. </p>
<ul><li>The default behavior for closure evaluation is now to use static scoping. (syntax: <code>#closure</code>)</li>
<li>Closures now have syntax for the argument (like Ruby): <code>{ |arg| ... }</code>. I'm not going to enable multiple arguments. If you want that you can pass an object. (<code>point moveTo &lt;.x=1;.y=2&gt;</code>)</li>
<li>Added the Boolean type.</li>
</ul><!--end--><h2><a href="http://w3future.com/weblog/2002/11/08.html">Friday, November 08, 2002</a></h2>
<!--start--><a name="a140"></a>
<h3><a href="http://w3future.com/weblog/2002/11/08.html#a140" class="weblogItemTitle">What does the scope do?</a></h3><p>Because <a href="http://w3future.com/html/loell/">Loell</a> is so centered around scope handling, I needed to think about what the scope is actually for. This is what I came up with:</p>
<ul><li><b>Temporary storage.</b> In OO languages there's plenty of opportunity to store data, but storing data in the scope can be good for several reasons: 1. You simply don't need the data anymore at the end of the method. 2. You don't know where the data has to be put, f.e. the return value of a method. 3. You might not have the rights to put data anywhere else.</li>
<li><b>Shortcuts.</b> The code to lookup data could be cumbersome or slow. Then it's easier, faster and more readable to put a pointer to that data in a variable.</li>
<li><b>Labeling.</b> The code becomes more readable if you put data in a variable that has the proper name for how this data is used in the current context.</li></ul><!--end--><h2><a href="http://w3future.com/weblog/2002/11/07.html">Thursday, November 07, 2002</a></h2>
<!--start--><a name="a139"></a>
<h3><a href="http://w3future.com/weblog/2002/11/07.html#a139" class="weblogItemTitle">Loell, a new programming language</a></h3><p>When Dan Shappir and I were working on <a href="http://w3future.com/html/beyondJS/">Beyond JS</a> we agreed that Javascript is a powerful language. But we couldn't do all the tricks we wanted to do. One problem is the lack of control over the scope. And to keep the story short, I have created a language that gives full controle over scope: 
<a href="http://w3future.com/html/loell/">Loell</a>.</p>
<p>Traditional languages either have static or dynamic scoping. With Loell you can have both. When a closure is created, the scope it is created in is stored in the scope property of the closure. When you use that scope when evaluating the closure (<code>closure.scope#closure</code>) you have static scoping. But when you use the current scope (<code>$#closure</code>) you get dynamic scoping. But you can use any object as scope.</p>
<p>It turns out that this is powerful enough to implement <code>if</code>, while the language has no actual branching built in. Even <code>while</code> is implementable which I had never anticipated.</p>
<p>I've got the parser running for just 3 days now, so Loell is nowhere near finished.
There's no precedence and it's slow, but if you are interested in programming languages I hope you'll like to <a href="http://w3future.com/html/loell/">experiment with Loell</a> already. If you know other languages that have special scope control, or research in scope control, I'd like to hear from you.</p><!--end-->
</div>
	<div id="footer">&#x00A9; Copyright 2002 <a href="mailto:sjoerd@w3future.com">Sjoerd Visscher</a>, <a href="http://w3future.com/">w3future.com</a></div>
</div>
<script type='text/javascript'><!--
initButtons(true);initSectionTabs();initSidebarButtons();staticSiteStatsImage()
//--></script>
</body>
</html>
